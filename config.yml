#  Starkhome Frigate NVR Test Instance
#  config.yml  for MCP LXC install
#  Pre-coral, Pre-GPU
#
#
mqtt:
  host: 192.168.5.119
  user: mqtt
  password: mqtt
  stats_interval: 60

detectors:
# UNCOMMENT ME ONCE THE CORAL IS INSTALLED.
#  coral:
#    type: edgetpu
#    device: pci

#REMOVE ME ONCE THE CORAL IS INSTALLED.  
  cpu1:
    type: cpu
    num_threads: 2

birdseye:
  enabled: False

#UNCOMMENT ME ONCE WE FIGURE OUT HOW TO PASS THROUGH A GPU 
#ffmpeg:
#  hwaccel_args: 
#    -hwaccel qsv
#    -hwaccel_device /dev/dri/renderD128
#    -hwaccel_output_format yuv420p

cameras:

  garagecam:
    ffmpeg:
      inputs:
        - path: rtsp://mstarken:mstarken@192.168.5.124:554/img/media.sav?channel=2
          roles:
            - detect
            - rtmp
        - path: rtsp://mstarken:mstarken@192.168.5.124:554/img/media.sav?channel=1
          roles:
            - record
    detect:
      width: 1280
      height: 720
      fps: 10
  frontcam:
    ffmpeg:
      inputs:
        - path: rtsp://mstarken:mstarken@192.168.5.126:554/img/media.sav?channel=2
          roles:
            - detect
            - rtmp
        - path: rtsp://mstarken:mstarken@192.168.5.126:554/img/media.sav?channel=1
          roles:
            - record
    detect:
      width: 640
      height: 480
      fps: 5

#  kitchencam:
#    ffmpeg:
#      inputs:
#        - path: http://192.168.5.129/media/?action=stream
#          roles:
#            - detect
#      input_args: -avoid_negative_ts make_zero -fflags nobuffer -flags low_delay -strict experimental -fflags +genpts+discardcorrupt -use_wallclock_as_timestamps 1 -c:v mjpeg#
#
#   detect:
#     width: 1280
#     height: 720
#
#  kidscam:
#    ffmpeg:
#      inputs:
#        - path: rtsp://mstarken:mstarken@192.168.5.128/img/video.sav
#          roles:
#            - rtmp
 